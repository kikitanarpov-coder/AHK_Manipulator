# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞: –í—ã–ª–µ—Ç –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥–µ–π—Å—Ç–≤–∏—è

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–≥–æ –º–µ–Ω—é ("+ –î–µ–π—Å—Ç–≤–∏–µ") –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ª–µ—Ç–∞–ª–æ.

## üîç –ù–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### 1. AttributeError: 'NoneType' object has no attribute 'pos'
**–§–∞–π–ª:** `ui/task_board_widget.py`, —Å—Ç—Ä–æ–∫–∞ 248
**–ü—Ä–æ–±–ª–µ–º–∞:** `self.sender()` –≤–æ–∑–≤—Ä–∞—â–∞–ª `None`, —Ç–∞–∫ –∫–∞–∫ –º–µ–Ω—é –≤—ã–∑—ã–≤–∞–ª–æ—Å—å –Ω–µ –æ—Ç –∫–Ω–æ–ø–∫–∏

**–ö–æ–¥ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```python
menu.exec(self.mapToGlobal(self.sender().pos()))
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å self.pos() –≤–º–µ—Å—Ç–æ self.sender().pos()
menu.exec(self.mapToGlobal(self.pos()))
```

---

### 2. NameError: name 'uuid' is not defined
**–§–∞–π–ª:** `ui/task_board_widget.py`, —Å—Ç—Ä–æ–∫–∞ 254
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –∏–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è `uuid`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞
import uuid
```

---

### 3. ValueError: –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ—Å–∫–∏
**–§–∞–π–ª:** `ui/task_board_widget.py`, —Å—Ç—Ä–æ–∫–∞ 267
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—ã–∑–æ–≤ `self.backend.add_action()` —Ç—Ä–µ–±–æ–≤–∞–ª –Ω–∞–ª–∏—á–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ—Å–∫–∏ –≤ –±—ç–∫–µ–Ω–¥–µ, –Ω–æ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ UI –¥–æ—Å–∫–∞ –º–æ–≥–ª–∞ –Ω–µ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ `backend.current_board`

**–ö–æ–¥ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```python
self.backend.add_action(self.row.id, action)
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```python
# –î–æ–±–∞–≤–ª—è–µ–º –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞–ø—Ä—è–º—É—é –≤ —Å—Ç—Ä–æ–∫—É
self.row.add_action(action)
```

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
python -c "
from PyQt6.QtWidgets import QApplication
from backend import BackendApplication, ActionType, TaskRow
from ui.task_board_widget import TaskRowWidget

app = QApplication([])
backend = BackendApplication()
row = TaskRow(id='row_1', name='–¢–µ—Å—Ç')
widget = TaskRowWidget(row, backend)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
widget._add_action(ActionType.MOUSE_CLICK)
print(f'‚úì –î–µ–π—Å—Ç–≤–∏–π: {len(row.actions)}')

# Refresh
widget._refresh_actions()
print('‚úì Refresh —É—Å–ø–µ—à–µ–Ω')
"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úì –î–µ–π—Å—Ç–≤–∏–π: 1
‚úì Refresh —É—Å–ø–µ—à–µ–Ω
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| `ui/task_board_widget.py` | 3 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
| - import uuid | –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç |
| - _show_add_action_menu() | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω sender() ‚Üí pos() |
| - _add_action() | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω backend.add_action() ‚Üí row.add_action() |

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
cd /Users/a1234/AHK_Manipulator_app
source .venv/bin/activate
python main.py --gui
```

**PID:** 14487 - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

## üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

1. ‚úÖ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Å–∫–∏
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
4. ‚úÖ –ù–∞–∂–∞—Ç–∏–µ "+ –î–µ–π—Å—Ç–≤–∏–µ"
5. ‚úÖ –í—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è –∏–∑ –º–µ–Ω—é
6. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ —Å—Ç—Ä–æ–∫–µ
7. ‚úÖ –í—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è (–æ—Ç–∫—Ä—ã—Ç–∏–µ —Å–≤–æ–π—Å—Ç–≤)

–í—Å–µ —ç—Ç–∞–ø—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –≤—ã–ª–µ—Ç–æ–≤!
